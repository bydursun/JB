{
  "info": {
    "name": "Job Portal MERN API",
    "description": "Complete API collection for the Job Portal application with all authentication and CRUD endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{authToken}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:5000/api",
      "type": "string"
    },
    {
      "key": "authToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "userId",
      "value": "",
      "type": "string"
    },
    {
      "key": "jobId",
      "value": "",
      "type": "string"
    },
    {
      "key": "applicationId",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Register Job Seeker",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('authToken', jsonData.data.token);",
                  "    pm.collectionVariables.set('userId', jsonData.data.user.id);",
                  "    pm.environment.set('authToken', jsonData.data.token);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test Job Seeker\",\n  \"email\": \"testseeker@example.com\",\n  \"password\": \"password123\",\n  \"role\": \"jobseeker\",\n  \"phone\": \"+1-416-555-9999\",\n  \"location\": \"Toronto, ON\",\n  \"bio\": \"Experienced developer looking for new opportunities\",\n  \"skills\": [\"JavaScript\", \"React\", \"Node.js\"]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "register"]
            }
          },
          "response": []
        },
        {
          "name": "Register Employer",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('authToken', jsonData.data.token);",
                  "    pm.collectionVariables.set('userId', jsonData.data.user.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test Company HR\",\n  \"email\": \"testemployer@example.com\",\n  \"password\": \"password123\",\n  \"role\": \"employer\",\n  \"company\": \"Test Tech Inc\",\n  \"phone\": \"+1-416-555-8888\",\n  \"location\": \"Toronto, ON\",\n  \"bio\": \"Leading technology company\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "register"]
            }
          },
          "response": []
        },
        {
          "name": "Login - Job Seeker",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('authToken', jsonData.data.token);",
                  "    pm.collectionVariables.set('userId', jsonData.data.user.id);",
                  "    pm.environment.set('authToken', jsonData.data.token);",
                  "    console.log('Token saved:', jsonData.data.token);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"jobseeker@demo.com\",\n  \"password\": \"password123\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            },
            "description": "Login with demo job seeker account"
          },
          "response": []
        },
        {
          "name": "Login - Employer",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('authToken', jsonData.data.token);",
                  "    pm.collectionVariables.set('userId', jsonData.data.user.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"employer@demo.com\",\n  \"password\": \"password123\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            },
            "description": "Login with demo employer account"
          },
          "response": []
        },
        {
          "name": "Get Profile",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/auth/profile",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "profile"]
            },
            "description": "Get current user profile (requires authentication)"
          },
          "response": []
        },
        {
          "name": "Update Profile",
          "request": {
            "method": "PUT",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Name\",\n  \"phone\": \"+1-416-555-0000\",\n  \"location\": \"Toronto, ON\",\n  \"bio\": \"Updated bio\",\n  \"skills\": [\"JavaScript\", \"React\", \"Node.js\", \"TypeScript\"]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/auth/profile",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "profile"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Jobs",
      "item": [
        {
          "name": "Get All Jobs",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/jobs?page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["jobs"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "search",
                  "value": "developer",
                  "disabled": true
                },
                {
                  "key": "location",
                  "value": "Toronto",
                  "disabled": true
                },
                {
                  "key": "jobType",
                  "value": "full-time",
                  "disabled": true
                },
                {
                  "key": "experienceLevel",
                  "value": "senior",
                  "disabled": true
                }
              ]
            },
            "description": "Get all job postings (public access)"
          },
          "response": []
        },
        {
          "name": "Get Job by ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('jobId', jsonData.data.job._id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/jobs/{{jobId}}",
              "host": ["{{baseUrl}}"],
              "path": ["jobs", "{{jobId}}"]
            },
            "description": "Get single job by ID (public access)"
          },
          "response": []
        },
        {
          "name": "Create Job (Employer Only)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('jobId', jsonData.data.job._id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Senior Node.js Developer\",\n  \"description\": \"We are looking for an experienced Node.js developer to join our team. You will be responsible for developing and maintaining server-side applications.\",\n  \"company\": \"Tech Solutions Inc\",\n  \"location\": \"Toronto, ON\",\n  \"salary\": \"$90,000 - $120,000\",\n  \"jobType\": \"full-time\",\n  \"experienceLevel\": \"senior\",\n  \"skills\": [\"Node.js\", \"Express\", \"MongoDB\", \"REST APIs\", \"JavaScript\"],\n  \"requirements\": [\n    \"5+ years of experience with Node.js\",\n    \"Strong understanding of REST APIs\",\n    \"Experience with MongoDB or similar databases\",\n    \"Excellent problem-solving skills\"\n  ],\n  \"benefits\": [\n    \"Health insurance\",\n    \"401k matching\",\n    \"Flexible work hours\",\n    \"Remote work options\"\n  ],\n  \"applicationDeadline\": \"2025-12-31\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/jobs",
              "host": ["{{baseUrl}}"],
              "path": ["jobs"]
            },
            "description": "Create a new job posting (employer only)"
          },
          "response": []
        },
        {
          "name": "Update Job (Employer Only)",
          "request": {
            "method": "PUT",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Senior Node.js Developer (Updated)\",\n  \"salary\": \"$95,000 - $130,000\",\n  \"status\": \"active\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/jobs/{{jobId}}",
              "host": ["{{baseUrl}}"],
              "path": ["jobs", "{{jobId}}"]
            },
            "description": "Update job posting (employer only)"
          },
          "response": []
        },
        {
          "name": "Delete Job (Employer Only)",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/jobs/{{jobId}}",
              "host": ["{{baseUrl}}"],
              "path": ["jobs", "{{jobId}}"]
            },
            "description": "Delete job posting (employer only)"
          },
          "response": []
        },
        {
          "name": "Get My Jobs (Employer Only)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/jobs/employer/my-jobs",
              "host": ["{{baseUrl}}"],
              "path": ["jobs", "employer", "my-jobs"]
            },
            "description": "Get all jobs posted by the current employer"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Applications",
      "item": [
        {
          "name": "Apply for Job (Job Seeker Only)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('applicationId', jsonData.data.application._id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"jobId\": \"{{jobId}}\",\n  \"coverLetter\": \"I am very interested in this position. I have 5+ years of experience with Node.js and have worked on several large-scale projects. I believe my skills and experience make me a great fit for this role.\",\n  \"resumeUrl\": \"https://example.com/resume.pdf\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/applications",
              "host": ["{{baseUrl}}"],
              "path": ["applications"]
            },
            "description": "Apply for a job (job seeker only)"
          },
          "response": []
        },
        {
          "name": "Get My Applications (Job Seeker Only)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/applications/my-applications",
              "host": ["{{baseUrl}}"],
              "path": ["applications", "my-applications"]
            },
            "description": "Get all applications submitted by the current job seeker"
          },
          "response": []
        },
        {
          "name": "Get Job Applications (Employer Only)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/applications/job/{{jobId}}",
              "host": ["{{baseUrl}}"],
              "path": ["applications", "job", "{{jobId}}"]
            },
            "description": "Get all applications for a specific job (employer only)"
          },
          "response": []
        },
        {
          "name": "Update Application Status (Employer Only)",
          "request": {
            "method": "PUT",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"shortlisted\",\n  \"notes\": \"Strong candidate, schedule interview\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/applications/{{applicationId}}",
              "host": ["{{baseUrl}}"],
              "path": ["applications", "{{applicationId}}"]
            },
            "description": "Update application status (employer only). Status options: pending, reviewing, shortlisted, rejected, accepted"
          },
          "response": []
        },
        {
          "name": "Delete Application (Job Seeker Only)",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/applications/{{applicationId}}",
              "host": ["{{baseUrl}}"],
              "path": ["applications", "{{applicationId}}"]
            },
            "description": "Delete/withdraw application (job seeker only)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Users",
      "item": [
        {
          "name": "Get All Users",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users?page=1&limit=20",
              "host": ["{{baseUrl}}"],
              "path": ["users"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number"
                },
                {
                  "key": "limit",
                  "value": "20",
                  "description": "Results per page"
                },
                {
                  "key": "role",
                  "value": "jobseeker",
                  "description": "Filter by role (jobseeker/employer)",
                  "disabled": true
                },
                {
                  "key": "location",
                  "value": "Toronto",
                  "description": "Filter by location",
                  "disabled": true
                },
                {
                  "key": "search",
                  "value": "",
                  "description": "Search by name, email, or company",
                  "disabled": true
                }
              ]
            },
            "description": "Get all active users with filtering and pagination"
          },
          "response": []
        },
        {
          "name": "Get User by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}"]
            },
            "description": "Get user by ID"
          },
          "response": []
        },
        {
          "name": "Create User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.user) {",
                  "        pm.collectionVariables.set('userId', response.data.user._id);",
                  "        console.log('User ID saved:', response.data.user._id);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test User\",\n  \"email\": \"testuser@example.com\",\n  \"password\": \"password123\",\n  \"role\": \"jobseeker\",\n  \"phone\": \"+1-416-555-9876\",\n  \"location\": \"Toronto, ON\",\n  \"bio\": \"Test user account\",\n  \"skills\": [\"JavaScript\", \"React\", \"Node.js\"]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/users",
              "host": ["{{baseUrl}}"],
              "path": ["users"]
            },
            "description": "Create a new user account"
          },
          "response": []
        },
        {
          "name": "Update User",
          "request": {
            "method": "PUT",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated User Name\",\n  \"phone\": \"+1-416-555-1111\",\n  \"location\": \"Vancouver, BC\",\n  \"bio\": \"Updated bio information\",\n  \"skills\": [\"JavaScript\", \"React\", \"Node.js\", \"TypeScript\", \"Docker\"]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}"]
            },
            "description": "Update user information. Users can only update their own account."
          },
          "response": []
        },
        {
          "name": "Delete User (Soft Delete)",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}"]
            },
            "description": "Soft delete user (deactivate account). Users can only delete their own account."
          },
          "response": []
        },
        {
          "name": "Permanently Delete User",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}/permanent",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}", "permanent"]
            },
            "description": "Permanently delete user from database. Users can only delete their own account."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Health Check",
      "request": {
        "auth": {
          "type": "noauth"
        },
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/../health",
          "host": ["{{baseUrl}}"],
          "path": ["..", "health"]
        },
        "description": "Check if the API is running"
      },
      "response": []
    }
  ]
}
